$button-size: 3rem;
$panel-padding: 0.75rem;
$panel-gap: 1rem;

// .accordion {
//   display: flex;
//   flex-direction: column;
//   gap: calc($panel-gap / 2);
//   contain: content;
//   min-height: 80vh;
//   max-height: 80vh;
//   padding: 0.5rem;

//   .accordion-panel {
//     cursor: pointer;
//     position: relative;
//     isolation: isolate;
//     flex: 1;
//     flex-basis: calc(($panel-padding * 0) + $button-size);
//     overflow: hidden;
//     padding: $panel-padding;
//     padding-right: calc($panel-padding * 4);
//     border-radius: calc((($panel-padding * 2) + $button-size) / 2);

//     &:hover {
//       flex-grow: 1;
//       flex-basis: clamp(15rem, 40vh, 20rem);
//     }
//   }
// }

// .accordion-panel:has([aria-expanded='true']) {
//   flex-basis: clamp(15rem, 40vh, 20rem);
//   flex-grow: 1;
// }

// .accordion-trigger {
//   outline: 0;
// }

// .accordion-panel:focus-within {
//   outline: 3px solid red;
//   outline-offset: 4px;
// }

// .accordion-panel:has([aria-expanded='true']) p {
//   transform: translateY(0);
//   opacity: 1;
// }

// .accordion-image {
//   position: absolute;
//   inset: 0;
//   width: 100%;
//   height: 100%;
//   object-fit: cover;
//   z-index: -1;
//   transition: filter 500ms;
//   filter: brightness(0.5);
// }

// .accordion-panel:has([aria-expanded='true']) .accordion-image {
//   filter: brightness(1);
// }

// .accordion-trigger {
//   opacity: 0;
// }

// @media (prefers-reduced-motion: no-preference) {
//   .accordion-panel:has([aria-expanded='true']) p {
//     transition: transform 500ms 500ms, opacity 500ms 500ms;
//   }
// }
// @media (prefers-reduced-motion: no-preference) {
//   .accordion-panel {
//     transition: flex-basis 500ms, flex-grow 500ms;
//   }
// }
// @media (min-width: 45em) {
//   .accordion {
//     flex-direction: row;
//     height: 30rem;
//   }
// }
.accordion {
  display: flex;
  font-size: 1rem;
  height: 80vh;
  width: 100%;
  gap: 0.25em;
  cursor: pointer;

  .accordion-panel {
    position: relative;
    flex: 1;
    overflow: hidden;
    transition: 0.5s ease-in-out;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    background-origin: content-box, padding-box;
    border-radius: 1rem;
    filter: brightness(0.5);

    &:focus-within {
      outline: 1px solid red;
      outline-offset: 1px;
    }

    .accordion-trigger {
      opacity: 0;
    }

    .accordion-content {
      position: absolute;
      bottom: 0;
      margin-bottom: 4vh;
      padding: 1vh;
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 10px;
      visibility: hidden;
      opacity: 0;
      transition: 0s;
      transform: translateY(100px);
      width: 100%;
      text-align: center;
    }

    &:hover,
    &:active {
      flex-grow: 20;
      filter: brightness(1);

      .accordion-content {
        visibility: visible;
        opacity: 1;
        transition: 0.5s;
        transition-delay: 0.5s;
        transform: translateY(0);
      }

      .accordion-trigger {
        opacity: 1;
      }
    }

    &:has([aria-expanded='true']) {
      flex-grow: 20;
      filter: brightness(1);

      .accordion-content {
        visibility: visible;
        opacity: 1;
        transition: 0.5s;
        transition-delay: 0.5s;
        transform: translateY(0);
      }
    }
  }
}

@media screen and (max-width: 1024px) {
  .accordion {
    flex-direction: column;

    .accordion-panel {
      // border-bottom: 2px solid $light-border-color-alpha-9;
      background-position: 0vh -6vh;
    }
  }
}

@media screen and (max-width: 710px) {
  .accordion {
    .accordion-panel {
      background-position: center top;
    }
  }
}

@media screen and (max-width: 500px) {
  .accordion {
    .accordion-panel {
      .accordion-content {
        font-size: 1rem;
        padding: 0;
      }

      &:hover,
      &:active {
        flex-grow: 6;
      }
    }
  }
}
